<!DOCTYPE html>
<html>

<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# website: http://ogp.me/ns/website#">
  <title>Commission Prices - Debaa | Macchako Lounge</title>
  <link rel="stylesheet" href="css/Styles.css">
  <link rel="icon" href="images/Logo x0.5.png" type="image/x-icon">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <meta name="viewport" content="width=1080">
  <!--OGP META-->
  <meta property="og:title" content="Debaa's Commissions" />
  <meta property="og:description" content="Ba's official commission reference page!" />
  <meta property="og:url" content="https://debaa.macchako.moe/commissions" />
  <meta id="ogpbanner" property="og:image" content="https://debaa.macchako.moe/images/banner.png" />
  <meta property="og:image:width" content="960" />
  <meta property="og:image:height" content="540" />
  <meta property="og:site_name" content="Debaa | Macchako Lounge" />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#8ce967" />
  <!--Twitter meta-->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@debaa_nyan">
  <meta name="twitter:creator" content="@debaa_nyan">
  <meta name="twitter:title" content="Debaa's Commissions">
  <meta name="twitter:description" content="Ba's official commission reference page!">
  <meta id="ogptwitter" name="twitter:image" content="http://debaa.macchako.moe/images/banner.png">
  <!-- Live2DCubismCore script -->
  <script src="https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js"></script>
  <!-- Build script -->
  <script src="./assets/js/live2dv3.js"></script>
</head>

<body style="background-color: #202420;overflow-y:hidden">
  <div class="header">
    <div>
      <div style="display: inline-block;padding: 10px 10px 12.5px 0px;">
        <img src='../images/ppf1.png' style="height:45px; border-radius:50%;">
      </div>
      <div style="display: inline-block;position:absolute;">
        <h4>Debaa | Macchako Lounge</h4>
        <h5>「でばあ」 まっちゃこ・ラウンジ</h5>
        <!--ayayayayayayayayayyayayayayayayayayayayayayayayayayayayayayayayay-->
      </div>
      <div class="menu" style="float: right;margin-top: 40px;">
        <ul>
          <li>
            <a href="../">About</a>
          </li>
          <li>
            <a href="../commissions">Commissions</a>
          </li>
          <li>
            <a href="../portfolio">Portfolio</a>
          </li>
          <!--<li><a href="products">Products</a></li><li><a href="extras">Extras</a></li>-->
        </ul>
      </div>
    </div>
  </div>
  <div style='height: 5px;background-color:#8ce967;'></div>
  <style>
    .backgrrrr {
      animation: slide 25s linear infinite;
    }

    @keyframes slide {
      0% {
        background-position-x: 0px;
      }

      100% {
        background-position-x: -1000px;
      }
    }

    .butt:hover {
      background-color: #8ce967 !important;
      color: #375929 !important;
    }

    .submenuwu:hover {
      color: #375929 !important;
    }
  </style>
  <div class="backgrrrr"
    style="text-align: center;padding-bottom:0px;width:100%;padding-top:0px;background:url(images/bgbg.png) repeat;">
    <div style="display:inline-block">
    <div  style="background:url(images/aaaa.png); width:1000px;height:563px;"></div>
    <div  style="background-color: rgba(0, 0, 0, 0.5); width:1000px;height:563px;margin-top: -563px;"></div>
    <div id="bannerimagefader" style="opacity: 0;margin-top: -563px;"><div id="bannerimage" style="background:url(); background-size: contain; width:1000px;height:563px;"></div><div id="bgpatch" style="background-color: rgba(0, 0, 0, 0.5);width:1000px;height:563px;margin-top:-563px;opacity:0;"></div></div>
    <div style="background:url(); background-size: contain; width:1000px;height:563px;margin-top: -563px;">
      <div style="height: 100%;width: 100%;">
        <div style=" height: 93%;width: 60%;text-align: left;padding-top:3%; padding-left:5%;color: white;">

          <!--Trello API to change banner things-->
          <script>
            fetch('https://trello.com/b/XidhbVro/macchako-automation-with-trello-api.json')
            .then((response) => response.json())
            .then((data) => {
              var commstat = data.cards[0].cover.color;
              switch(commstat){
                case "green":
                  //commissions open codeblock
                  document.getElementById("bannerimage").style.backgroundImage = "url(images/babadraw.jpg)";
                  document.getElementById("bannerimage").backgroundSize = "contain";
                  document.getElementById("bannertitle").innerHTML = "Commissions are Open!";
                  document.getElementById("bannersubtitle").innerHTML = "Debaa is accepting new requests!<br>Check Queues below to view progress, Scroll down for pricing.<br>You may contact <a class=sublink href=discord://-/users/428082145899315202>Debaa</a> for inquiries.";
                  break;
                case "red":
                  //commissions closed codeblock
                  document.getElementById("bannerimage").style.backgroundImage = "url(images/rest.jpg)";
                  document.getElementById("bannerimage").backgroundSize = "contain";
                  document.getElementById("bannertitle").innerHTML = "Commissions are Closed...";
                  document.getElementById("bannersubtitle").innerHTML = "Debaa is currently not taking new requests,<br>We'll be opening again soon, Check again later!<br>You may contact <a class=sublink href=discord://-/users/428082145899315202>Debaa</a> for inquiries.";
                  break;
                case "yellow":
                  //custom commissions banner and stuff codeblock 
                  var banner = data.cards[4].attachments[0].url;
                  var title = data.cards[4].name;
                  var subtitle = data.cards[4].desc;
                  //replace the linebreaks with <br>
                  subtitle = subtitle.replace(/(?:\r\n|\r|\n)/g, '<br>');
                  //check for links [text](url)
                  let elements = subtitle.match(/\[.*?\)/g);
                  if( elements != null && elements.length > 0){
                    for(el of elements){
                      let txt = el.match(/\[(.*?)\]/)[1];//get only the txt
                      let url = el.match(/\((.*?)\)/)[1];//get only the link
                      subtitle = subtitle.replace(el,'<a class="sublink" href="'+url+'" target="_blank">'+txt+'</a>')
                    }
                  } 
                  document.getElementById("bannerimage").style.backgroundImage = "url("+banner+")";
                  document.getElementById("bannerimage").backgroundSize = "contain";
                  document.getElementById("bannertitle").innerHTML = title;
                  document.getElementById("bannersubtitle").innerHTML = subtitle;
                  break;
                default:
                  //API error codeblock
                  document.getElementById("bannerimage").style.backgroundImage = "url(images/error.jpg)";
                  document.getElementById("bannerimage").backgroundSize = "contain";
                  document.getElementById("bannertitle").innerHTML = "API Error.";
                  document.getElementById("bannersubtitle").innerHTML = "Failed to fetch commission status,<br>If you're seeing this, please contact <a class=sublink href=discord://-/users/428082145899315202>Debaa</a>.<br>You can still check queue and prices below.";
                  break;
              }
              var goalstat = data.cards[1].cover.color;

              function goalies(){
                var mone = document.getElementById("moolah").innerHTML; 
                var gol = document.getElementById("goals").innerHTML;
                if(mone/gol*100 > 100){
                  document.getElementById("donoprogress").style.width = 100+"%";
                }
                else{
                  document.getElementById("donoprogress").style.width = mone/gol*100+"%";
                }
              }

              switch(goalstat){
                case "green":
                  var goalend = data.cards[1].desc;
                  var goalprog = data.cards[2].desc;
                  document.getElementById("goals").innerHTML = goalend;
                  document.getElementById("moolah").innerHTML = goalprog;
                  document.getElementById("goalslash").style.display = "inline-block";
                  document.getElementById("goals").style.display = "inline-block";
                  document.getElementById("moolah").style.display = "inline-block";
                  goalies();
                  break;
                case "red":
                  document.getElementById("goaltext").innerHTML = "There are no campaigns at the moment...";
                  document.getElementById("goalslash").style.display = "none";
                  document.getElementById("goals").style.display = "none";
                  document.getElementById("moolah").style.display = "none";
                  document.getElementById("donoprogress").style.width = 100+"%";
                  
                  break;
                default:
                  document.getElementById("goaltext").innerHTML = "Failed to fetch API Data..."
                  document.getElementById("goalslash").style.display = "none";
                  document.getElementById("goals").style.display = "none";
                  document.getElementById("moolah").style.display = "none";
                  document.getElementById("donoprogress").style.width = 100+"%";
                  
                  break;
              }

              
              document.getElementById("bannertitle").style.opacity = "1";
              document.getElementById("bannersubtitle").style.opacity = "1";
              document.getElementById("bannerbutton").style.opacity = "1";
              document.getElementById("donoprogresstext").style.opacity = "1";
              document.getElementById("donoprogresscircle").style.opacity = "1";
              document.getElementById("fetchingdata").style.opacity = "1";
              document.getElementById("bgpatch").style.opacity = "1";
              document.getElementById("loadinger").style.opacity = "0";
              document.getElementById("bannerimagefader").style.opacity = "1";
              document.getElementById("loadinger").style.marginTop = "250px";
              document.getElementById("goalslash").style.opacity = "1";
              document.getElementById("goals").style.opacity = "1";
              document.getElementById("moolah").style.opacity = "1";
              document.getElementById("goaltext").style.opacity = "1";
            })
          </script>


          <!--Trello card counter, Thank you RedRiolite! >w< -->
          <script>
          fetch('https://trello.com/b/pHtqWzR2/commissions.json')
          .then((response) => response.json())
          .then((data) => {
            var cards = data.cards;
            var count1 = 0;
            var count2 = 0;
            var count3 = 0;
            var count4 = 0;
            var count5 = 0;
            cards.forEach(element => {
              if (element.idList == "62927640604aec8dcc03ce27"){
                count1++;
              }
            });
            cards.forEach(element => {
              if (element.idList == "6292783eabf29344b744deca"){
                count2++;
              }
            });
            cards.forEach(element => {
              if (element.idList == "62927640604aec8dcc03ce28"){
                count3++;
              }
            });
            cards.forEach(element => {
              if (element.idList == "6292784d91dba84a1603836b"){
                count4++;
              }
            });
            cards.forEach(element => {
              if (element.idList == "62927640604aec8dcc03ce29"){
                count5++;
              }
            });
            var date = data.dateLastActivity;
            date = date.substring(0, 10);
            date = date.replace(/-/g, "/");
            console.log(date);
  	        function formatDate (input) {
  		        var datePart = input.match(/\d+/g),
  		        year = datePart[0].substring(2), // get only two digits
  		        month = datePart[1], day = datePart[2];
			
              month = parseInt(month, 10);
              day = parseInt(day, 10);
			
  		        return month+'/'+day+'/'+year;
            }
            date = formatDate (date);
  	        document.getElementById("treldate").innerHTML = date;
            document.getElementById("onprog").innerHTML = count1 + count2 + count3 + count4;
            document.getElementById("fin").innerHTML = count5 + 204;
            document.getElementById("fetchingdata").style.display = "none";
            document.getElementById("CommStatus").style.display = "block";
          });
          </script>

          <div style="font-size: 7pt;display:block;opacity:0;" id="fetchingdata">
            Fetching data, please wait... <b style="font-size: 9pt;opacity:0">0</b>
          </div>
          <div style="font-size: 7pt;display:none" id="CommStatus">
            <b style="font-size: 9pt;" id="fin">0</b> orders Finished, <b style="font-size: 9pt;" id="onprog">0</b> currently in queue.
            Last Updated <b id="treldate">0/0/00</b>
          </div>

          <div style="position: absolute;margin-top: 205px;width:300px;" id="loadinger">
            <div style="position: absolute;"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div>
            <div style="position: absolute; margin-top: 30px;margin-left:85px;font-size: 15pt;white-space: nowrap;">Checking commission status...</div>
          </div>
          
          <div id="bannertitle" style="font-size: 15pt;margin-top: 210px; opacity: 0;"><!--Commissions are Open!-->Commissions are Closed...</div>
          <div id="bannersubtitle" style="color: #8ce967;font-size: 11pt; opacity: 0;"><!--Debaa is accepting new requests!-->Debaa is currently not taking new requests,<br><!--Check Queues below to view progress, Scroll down for pricing.-->We'll be opening again soon, Check again later!<br>You may contact <a class=sublink href=discord://-/users/428082145899315202>Debaa</a> or <a class=sublink href=discord://-/users/109294441826635776>Mydia</a> for inquiries.</div>
          <br>
          <div id="bannerbutton" style="opacity: 0; ">
            <div class="butt" 
              style="background-color: #375929;height: 50px;width: 145px; border-radius: 5px;box-shadow: 0px 0px 5px #000;position: relative;cursor: pointer;" onclick="NewTab()">
              <div style="position: absolute;top: 36%;left: 13%;font-size: 11pt;cursor: pointer;">Check Queues</div>
            </div>
          </div>
        </div>

        <script>
          function NewTab() {
              window.open(
                "https://trello.com/b/pHtqWzR2/commissions", "_blank");
          }
        </script>

        <div id="donoprogress" style="background-color: #8ce967;height: 2%;width: 0%;position: relative;">
          <div
            style="border-color: white;border-style: solid;border-radius: 50%; position: absolute;width: 5px;height: 5px;border-width: 2px;top:-4px;right:-4px;opacity:0;" id="donoprogresscircle">
          </div>
          <div style="color: white;font-size: 7pt;position: absolute;bottom: 15px;left: 80%;white-space: nowrap;opacity:0;" id="donoprogresstext">
            <div id="goaltext" style="display: inline-block; opacity: 0;">Current campaign progress $ </div><b style="opacity: 0;" id="moolah">550</b><div id="goalslash" style="display: inline-block;opacity: 0;"> / </div><b style="opacity: 0;" id="goals">2250</b>
          </div>
        </div>

        <!-- <script>
          
            var today = new Date();
            var isitjune = today.getMonth();
            if(isitjune == "5"){
              var deet = today.getDate();
              document.getElementById("date").innerHTML = deet;
              document.getElementById("donoprogress").style.width = deet/30*100+"%";
            }
            else {
              document.getElementById("date").innerHTML = 30;
              document.getElementById("donoprogress").style.width = 100+"%";
            }
            

        </script> -->

      </div>
    </div>
    </div>
    <br>
    <div style="background-color: #8ce967; height: 5px;margin-top:-4px"></div>
    <div class="footer">
      <!--FOOOT-->
      <!--<div class="socials"><ul><li><a href="about">About</a></li><li><a href="members">Members</a></li><li><a href="event">Events</a></li><li><a href="products">Products</a></li><li><a href="extras">Extras</a></li></ul></div>-->
      <ul>
        <li>
          <div class="footlog">
            <h4>Macchako Lounge</h4>
            <h5>まっちゃこ・ラウンジ</h5>
          </div>
        </li>
        <div class="copyright">
          <li>
            <h6>Copyright © Macchako Lounge. All rights reserved.</h6>
          </li>
        </div>
        <li>
          <!--<div class="mumbojumbo"><ul><li><a href="credits">Credits</a></li><li><a href="disclaimer">Disclaimer</a></li><li><a href="sources">Source Code</a></li><li><a href="legal">Legal</a></li></ul></div>-->
        </li>
      </ul>
      <!--cooooooooooooooooooooooooo-->
      <!--mononobenofooter-->
    </div>
  </div>
  </div>
  <!--<div style="background-color: #8ce967; height: 5px;margin-top:-5px"></div><div class="footer">-->
  <!--FOOOT-->
  <!--<div class="socials"><ul><li><a href="about">About</a></li><li><a href="members">Members</a></li><li><a href="event">Events</a></li><li><a href="products">Products</a></li><li><a href="extras">Extras</a></li></ul></div>-->
  <!--<ul><li><div class="footlog"><h4>Macchako Lounge</h4><h5>まっちゃこ・ラウンジ</h5></div></li><div class="copyright"><li><h6>Copyright © Macchako Lounge. All rights reserved.</h6></li></div><li>-->
  <!--<div class="mumbojumbo"><ul><li><a href="credits">Credits</a></li><li><a href="disclaimer">Disclaimer</a></li><li><a href="sources">Source Code</a></li><li><a href="legal">Legal</a></li></ul></div>-->
  <!--</li></ul></div>-->
  <!--Script di fork dari http://kenwheeler.github.io/slick/-->
  <!--<script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script><script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script><script type="text/javascript" src="slick/slick.min.js"></script><script type="text/javascript" src="js/initialization.js"></script>-->
</body>

</html>
